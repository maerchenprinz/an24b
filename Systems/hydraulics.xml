<?xml version="1.0"?>

<system name="Hydraulics">

<!--property value="1000">fcs/steering/strut-moi-z</property-->

<!-- BLEED AIR FOR Main Tank PRESSURIZATION
(pressure 1-2kg/cm2) -->
 <channel name="Bleed Air for Hydraulics" execrate="20">

 <fcs_function name="/an24/BleedAir/hydraulics_kgcm2_L">
  <function>

   <quotient>
    <property>propulsion/engine[0]/engine-rpm-percent</property>
    <value>100</value>
   </quotient>

  </function>
 </fcs_function>

 <fcs_function name="/an24/BleedAir/hydraulics_kgcm2_R">
  <function>

   <quotient>
    <property>propulsion/engine[1]/engine-rpm-percent</property>
    <value>100</value>
   </quotient>

  </function>
 </fcs_function>

 </channel>

 <channel name="Fluid Levels" execrate="20">

 <fcs_function name="/an24/Hydraulics/Tank_l">
  <function>

 <difference>
  <property>/an24/Hydraulics/Overall_l</property><!--absolute content of system (60l nominal)-->
  <sum>
   <property>/an24/Hydraulics/AccuTank1_l</property><!--post-pumps-->
   <property>/an24/Hydraulics/AccuTank2_l</property><!--post-pumps-->
   <value>34</value><!--tubes, cylinders, etc.-->
  </sum>
 </difference>

  </function>
 </fcs_function>

 </channel>

<!-- MAX PRESSURE FROM DEVICES -->
 <channel name="Pumps 623AN" execrate="8">

 <!--fcs_function name="/an24/Hydraulics/Pump623L_kgcm2">
  <function>

   <table>
    <independentVar>propulsion/engine[0]/engine-rpm-percent</independentVar>
     <tableData>
	  0.0   0.0
	 90.0  15.0
	100.0 155.0
	130.0 170.0
     </tableData>
   </table>

  </function>
 </fcs_function-->

 <!--fcs_function name="/an24/Hydraulics/Pump623R_kgcm2">
  <function>

   <table>
    <independentVar>propulsion/engine[1]/engine-rpm-percent</independentVar>
     <tableData>
	  0.0   0.0
	 90.0  15.0
	100.0 155.0
	130.0 170.0
     </tableData>
   </table>

  </function>
 </fcs_function-->


 <!--fcs_function name="/an24/Hydraulics/Pump623L_lpermin">
  <function>

   <table>
    <independentVar>/an24/Hydraulics/Pump623L_kgcm2</independentVar>
     <tableData>
	  0.0  0.0
	  2.5  8.0
	  5.0 22.0
	 15.0 23.0
	120.0 21.5
	150.0 19.5
	170.0 15.0
     </tableData>
   </table>

  </function>
 </fcs_function>

 <fcs_function name="/an24/Hydraulics/Pump623R_lpermin">
  <function>

   <table>
    <independentVar>/an24/Hydraulics/Pump623R_kgcm2</independentVar>
     <tableData>
	  0.0  0.0
	  2.5  8.0
	  5.0 22.0
	 15.0 23.0
	120.0 21.5
	150.0 19.5
	170.0 15.0
     </tableData>
   </table>

  </function>
 </fcs_function-->

 </channel>

 <channel name="Emergengy Pump 465MTB" execrate="8" execute="/an24/Hydraulics/sw_emergpump">

  <switch name="/an24/Hydraulics/Pump465_kgcm2">
   <default value="0"/>
    <test value="150">
	/an24/Hydraulics/sw_emergpump EQ 1.0
	/an24/Electrics/AZSmain_V GT 24.0
	/an24/AZS/sw0308 EQ 1.0
    </test>
  </switch>

 </channel>

<!-- PRESSURES in SYSTEMS -->
 <!--channel name="Pressure" execrate="8">

 <switch name="/an24/Hydraulics/Pump623_kgcm2">
  <default value="/an24/Hydraulics/Pump623L_kgcm2"/>
   <test value="/an24/Hydraulics/Pump623R_kgcm2">
	/an24/Hydraulics/Pump623R_kgcm2 GT /an24/Hydraulics/Pump623L_kgcm2
   </test>
 </switch>

  <switch name="/an24/Hydraulics/UI2-240main">
   <default value="/an24/Hydraulics/Pump623_kgcm2"/>
   <test logic="AND" value="/an24/Hydraulics/Pump465_kgcm2">
	/an24/Hydraulics/ConnectValve EQ 1.0
	/an24/Hydraulics/Pump623_kgcm2 GE /an24/Hydraulics/Pump465_kgcm2
   </test>
  </switch>

  <switch name="/an24/Hydraulics/UI1-240accu">
   <default value="0"/>
    <test value="1">
	/an24/Hydraulics/ConnectValve EQ 1.0
    </test>
  </switch>

 </channel-->

 <channel name="Entbremsautomat" execrate="8">

  <switch name="/an24/gear/disbrakeL"><!-- UG-34 -->
   <default value="0"/>
    <test value="1">
	/an24/gear/sw_disbrake EQ 1.0
	/controls/gear/brake-left GT 0.5 <!-- 4-8kg/cm2 on pedal, needs correct number -->
	/an24/AZS/sw0312 EQ 1.0
    </test>
  </switch>

  <switch name="/an24/gear/disbrakeR"><!-- UG-34 -->
   <default value="0"/>
    <test value="1">
	/an24/gear/sw_disbrake EQ 1.0
	/controls/gear/brake-right GT 0.5 <!-- 4-8kg/cm2 on pedal, needs correct number -->
	/an24/AZS/sw0312 EQ 1.0
    </test>
  </switch>

 <fcs_function name="/an24/Hydraulics/UI2-150L_kgcm2">
  <function>
    <product>
     <property>/controls/gear/brake-left</property>
     <property>/an24/Hydraulics/UI2-240main</property>
     <value>10</value>
    </product>
  </function>
 </fcs_function>

 <fcs_function name="/an24/Hydraulics/UI2-150R_kgcm2">
  <function>
    <product>
     <property>/controls/gear/brake-right</property>
     <property>/an24/Hydraulics/UI2-240main</property>
     <value>10</value>
    </product>
  </function>
 </fcs_function>

    <!--scheduled_gain>
      <input>-fcs/steering/angular-velocity-before-damping-degsec</input>
        <table>
          <independentVar> gear/unit[0]/wheel-speed-fps </independentVar>
          <tableData>
             0           2000
             2           2000
             5            200
          </tableData>
        </table>
      <output>fcs/steering/damping-torque-lbsft</output>
    </scheduled_gain-->


    <!--kinematic name="fcs/steering/steer-cmd-norm-switched-kinematic">
      <input>fcs/steering/steer-cmd-norm-overall</input>
        <traverse>
          <setting>
            <position>-1</position>
            <time>0</time>
          </setting>
          <setting>
            <position>1</position>
            <time>6</time>
          </setting>
        </traverse>
    </kinematic-->

 </channel>

</system>
