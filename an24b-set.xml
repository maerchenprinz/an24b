<?xml version="1.0"?>
<!--

-->

<PropertyList>

 <sim>

  <description>An-24B</description>
  <author>Michael Soitanen (FDM), Adrian (3D)</author>

  <model>
   <path>Aircraft/an24b/Models/an24-model.xml</path>
  </model>

  <status>alpha</status>

  <flight-model>jsb</flight-model>
  <aero>an24b</aero>

  <sound>
   <path>Aircraft/an24b/Sound/an24b-sound.xml</path>
  </sound>

  <view n="0">
   <name>Captain View</name>
   <internal archive="y">true</internal>
   <config>
   <x-offset-m archive="y">-0.48</x-offset-m>
   <y-offset-m archive="y">1.28</y-offset-m>
   <z-offset-m archive="y">-5.64</z-offset-m>
   <pitch-offset-deg type="double">-15.0</pitch-offset-deg>
   <default-field-of-view-deg type="double">80.0</default-field-of-view-deg>
   </config>
  </view>
  <view n="101">
    <name>Copilot View</name>
    <!--<enabled type="bool">true</enabled>-->
    <type>lookfrom</type>
    <internal type="bool">true</internal>
    <config>
      <from-model type="bool">true</from-model>
      <x-offset-m type="double" >0.48</x-offset-m>
      <y-offset-m type="double" >1.28</y-offset-m>
      <z-offset-m type="double" >-5.7</z-offset-m>
      <pitch-offset-deg type="double">-11.0</pitch-offset-deg>
      <from-model-idx type="int">0</from-model-idx>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <default-field-of-view-deg type="double">64.0</default-field-of-view-deg>
      <default-pitch-deg type="double">0</default-pitch-deg>
      <default-heading-deg type="double">0</default-heading-deg>
      <front-direction-deg type="double">0</front-direction-deg>
      <front-left-direction-deg type="double">45</front-left-direction-deg>
      <left-direction-deg type="double">90</left-direction-deg>
      <back-left-direction-deg type="double">135</back-left-direction-deg>
      <back-direction-deg type="double">180</back-direction-deg>
      <back-right-direction-deg type="double">225</back-right-direction-deg>
      <right-direction-deg type="double">270</right-direction-deg>
      <front-right-direction-deg type="double">315</front-right-direction-deg>
      <dynamic-view type="bool">true</dynamic-view>
    </config>
  </view>

  <view n="102">
    <name>Engineer View</name>
    <!--<enabled type="bool">true</enabled>-->
    <type>lookfrom</type>
    <internal type="bool">true</internal>
    <config>
      <from-model type="bool">true</from-model>
      <x-offset-m type="double" >0.62</x-offset-m>
      <y-offset-m type="double" >0.76</y-offset-m>
      <z-offset-m type="double" >-5.22</z-offset-m>
      <pitch-offset-deg type="double">-5.0</pitch-offset-deg>
      <from-model-idx type="int">0</from-model-idx>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <default-field-of-view-deg type="double">84.0</default-field-of-view-deg>
      <default-pitch-deg type="double">0</default-pitch-deg>
      <default-heading-deg type="double">0</default-heading-deg>
      <front-direction-deg type="double">180</front-direction-deg>
      <front-left-direction-deg type="double">225</front-left-direction-deg>
      <left-direction-deg type="double">270</left-direction-deg>
      <back-left-direction-deg type="double">315</back-left-direction-deg>
      <back-direction-deg type="double">0</back-direction-deg>
      <back-right-direction-deg type="double">45</back-right-direction-deg>
      <right-direction-deg type="double">90</right-direction-deg>
      <front-right-direction-deg type="double">135</front-right-direction-deg>
      <dynamic-view type="bool">true</dynamic-view>
    </config>
  </view>

  <view n="103">
    <name>Navigator View</name>
    <!--<enabled type="bool">true</enabled>-->
    <type>lookfrom</type>
    <internal type="bool">true</internal>
    <config>
      <from-model type="bool">true</from-model>
      <x-offset-m type="double" >-0.37</x-offset-m>
      <y-offset-m type="double" >1.21</y-offset-m>
      <z-offset-m type="double" >-5.0</z-offset-m>
      <pitch-offset-deg type="double">0.0</pitch-offset-deg>
      <from-model-idx type="int">0</from-model-idx>
      <ground-level-nearplane-m type="double">0.5f</ground-level-nearplane-m>
      <default-field-of-view-deg type="double">84.0</default-field-of-view-deg>
      <default-pitch-deg type="double">0</default-pitch-deg>
      <default-heading-deg type="double">0</default-heading-deg>
      <front-direction-deg type="double">180</front-direction-deg>
      <front-left-direction-deg type="double">225</front-left-direction-deg>
      <left-direction-deg type="double">270</left-direction-deg>
      <back-left-direction-deg type="double">315</back-left-direction-deg>
      <back-direction-deg type="double">0</back-direction-deg>
      <back-right-direction-deg type="double">45</back-right-direction-deg>
      <right-direction-deg type="double">90</right-direction-deg>
      <front-right-direction-deg type="double">135</front-right-direction-deg>
      <dynamic-view type="bool">true</dynamic-view>
    </config>
  </view>

  <help>
   <title>An-24B</title>
   	   <key>
	    <name>F1</name>
	    <desc>Release Idle Lock (press for release)</desc>
	   </key>
   	   <key>
	    <name>F2</name>
	    <desc>Toggles Propeller Pitch Lock (UPOR VINTA)</desc>
	   </key>
   	   <key>
	    <name>-</name>
	    <desc>Decrease Idle Lock value</desc>
	   </key>
   	   <key>
	    <name>=</name>
	    <desc>Increase Idle Lock value</desc>
	   </key>
   	   <key>
	    <name> </name>
	    <desc> </desc>
	   </key>
   	   <key>
	    <name>Vref for 19 t and more</name>
	    <desc>210 km/h (flaps 38)</desc>
	   </key>
   	   <key>
	    <name>Vref for less than 19 t</name>
	    <desc>200 km/h (flaps 38)</desc>
	   </key>
  </help>

  <menubar>
    <default>
      <menu n="10">
        <label>An-24B</label>
        <enabled type="bool">true</enabled>
        <item>
          <label>Tiller steering</label>
          <binding>
            <command>nasal</command>
            <script>
              var tiller = gui.Dialog.new("/sim/gui/dialogs/an-24b/menu/dialog","Aircraft/an24b/Dialogs/tiller-steering.xml");
              tiller.open();
            </script>
          </binding>
        </item>
        <item>
          <label>Realism settings</label>
          <binding>
            <command>nasal</command>
            <script>
              var realism = gui.Dialog.new("/sim/gui/dialogs/an-24b/menu/dialog","Aircraft/an24b/Dialogs/realism.xml");
              realism.open();
            </script>
          </binding>
        </item>
      </menu>
    </default>
  </menubar>


  <flaps>
	  <setting>0.0</setting>
	  <setting>0.1316</setting>
	  <setting>0.2632</setting>
	  <setting>0.3947</setting>
	  <setting>0.5263</setting>
	  <setting>0.6579</setting>
	  <setting>0.7895</setting>
	  <setting>1.0</setting>
  </flaps>

  <instrumentation>
    <path>Aircraft/an24b/Systems/instrumentation.xml</path>
  </instrumentation>

  <systems>
    <path>Aircraft/an24b/Systems/systems.xml</path>
    <autopilot>
      <path>Aircraft/an24b/Systems/ap-28l1.xml</path>
    </autopilot>
  </systems>

   <startup>
     <splash-texture>Aircraft/an24b/an-24b.png</splash-texture>
   </startup>

</sim>


 <engines>
  <engine n="0">
   <running type="bool">true</running>
  </engine>
  <engine n="1">
   <running type="bool">true</running>
  </engine>
 </engines>

<input>
 <keyboard>
     <key n="258">
       <name>F2</name>
       <desc>Prop pitch lock</desc>
       <binding>
         <command>property-toggle</command>
         <property>/an24/instrumentation/prop-lock/prop-lock-left</property>
       </binding>
       <binding>
         <command>property-toggle</command>
         <property>/an24/instrumentation/prop-lock/prop-lock-right</property>
       </binding>
     </key>

     <key n="257">
       <name>F1</name>
       <desc>Idle lock</desc>
       <binding>
          <command>property-assign</command>
          <property>/an24/instrumentation/idle-lock/idle-lock</property>
          <value>1</value>
       </binding>
       <mod-up>
         <binding>
           <command>property-assign</command>
           <property>/an24/instrumentation/idle-lock/idle-lock</property>
           <value>0</value>
         </binding>            
       </mod-up>
      </key>

      <key n="45">
      <name>minus</name>
      <binding>
        <command>property-adjust</command>
        <property>/fdm/jsbsim/fcs/throttle/idle-lock-pos</property>
        <step>-0.02</step>
      </binding>
    </key>
    <key n="61">
      <name>equal</name>
      <binding>
        <command>property-adjust</command>
        <property>/fdm/jsbsim/fcs/throttle/idle-lock-pos</property>
        <step>0.02</step>
      </binding>
    </key>

      <key n="91">
        <name>[</name>
        <desc>Decrease flaps</desc>
        <binding>
          <command>nasal</command>
          <script>
            var flaps_min = 0;
            setprop("/controls/flight/flaps", flaps_min);
          </script>
        </binding>
        <mod-up>
          <binding>
            <command>nasal</command>
            <script>
              var flaps_current = getprop("/surface-positions/flap-pos-norm");
              setprop("/controls/flight/flaps", flaps_current);
            </script>
          </binding>
        </mod-up>
      </key>

      <key n="93">
        <name>]</name>
        <desc>Increase flaps</desc>
        <binding>
          <command>nasal</command>
          <script>
            var flaps_max = 1;
            setprop("/controls/flight/flaps", flaps_max);
          </script>
        </binding>
        <mod-up>
          <binding>
            <command>nasal</command>
            <script>
              var flaps_current = getprop("/surface-positions/flap-pos-norm");
              setprop("/controls/flight/flaps", flaps_current);
            </script>
          </binding>
        </mod-up>
      </key>

    <key n="49">
      <name>1</name>
      <desc>Captain view</desc>
      <binding>
        <command>nasal</command>
        <script>view.forceView(0);</script>
      </binding>
    </key>
    <key n="50">
      <name>2</name>
      <desc>Copilot view</desc>
      <binding>
        <command>nasal</command>
        <script>view.forceView(1);</script>
      </binding>
    </key>

    <key n="51">
      <name>3</name>
      <desc>Engineer view</desc>
      <binding>
        <command>nasal</command>
        <script>view.forceView(2);</script>
      </binding>
    </key>
    <key n="52">
      <name>4</name>
      <desc>Navigator view</desc>
      <binding>
        <command>nasal</command>
        <script>view.forceView(3);</script>
      </binding>
    </key>

  </keyboard>
</input>

<controls>
  <gear>
    <steering>10.0</steering>
    <nose-wheel-steering type="bool">true</nose-wheel-steering>
  </gear>
</controls>

<consumables>
    <fuel>
      <tank n="0">
        <name>AUX2 LH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
      <tank n="1">
      <name>AUX1 LH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
      <tank n="2">
      <name>MAIN LH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
      <tank n="3">
      <name>Main RH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
      <tank n="4">
        <name>AUX1 RH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
      <tank n="5">
        <name>AUX2 RH</name>
        <unusable-gal_us>5.0</unusable-gal_us>
      </tank>
    </fuel>
</consumables>

<fdm>
  <jsbsim>  
    <gear>
     <steering>10.0</steering>
        <nose-wheel-steering type="bool">true</nose-wheel-steering>
    </gear>
    <fcs>
      <throttle>
        <throttle-pos-norm number="0" type="double">0</throttle-pos-norm>
        <throttle-pos-norm number="1" type="double">0</throttle-pos-norm>
      </throttle>
      <throttle-pos-norm>0</throttle-pos-norm>
      <steering>
        <steer-cmd-norm-final type="double">0</steer-cmd-norm-final>
      </steering>
    </fcs>
  </jsbsim>
</fdm>

 <gear>
    <gear n="0">
      <zsink-in type="double">150</zsink-in>
    </gear>
    <gear n="1">
      <zsink-in type="double">150</zsink-in>
    </gear>
    <gear n="2">
      <zsink-in type="double">150</zsink-in>
    </gear>
    <gear n="3">
      <zsink-in type="double">100</zsink-in>
    </gear>
    <gear n="4">
      <zsink-in type="double">100</zsink-in>
    </gear>
    <gear n="5">
      <zsink-in type="double">-30</zsink-in>
    </gear>
    <gear n="6">
      <zsink-in type="double">-30</zsink-in>
    </gear>
    <gear n="7">
      <zsink-in type="double">-30</zsink-in>
    </gear>
 </gear>

<an24>
  <ap-28l1>
    <coefficients> <!-- coefficients are taken from book An-24. Technical description.-->
      <roll-angle type="double">0.52</roll-angle>
      <roll-rate type="double">0.33</roll-rate>
      <pitch-angle type="double">0.96</pitch-angle>
      <pitch-rate type="double">0.57</pitch-rate>
      <pitch-roll-compensate type="double">0.1</pitch-roll-compensate> <!-- compensate when roll -->
      <pitch-altitude type="double">0.061</pitch-altitude> <!-- degree elevator to mm of water. Original was 0.61, but this is too sharp -->
      <yaw-angle type="double">1.02</yaw-angle>
      <yaw-rate type="double">1.5</yaw-rate>
      <heading-error type="double">0.8</heading-error> <!-- degree aileron to heading error. Original value=2.6 -->
      <heading-error-deg type="double">0</heading-error-deg>
      <yaw-rate-t-constant type="double">0.4</yaw-rate-t-constant>
    </coefficients>
    <lamps>
      <ready type="bool">false</ready>
      <on type="bool">false</on>
      <kv type="bool">false</kv>
      <pull type="bool">false</pull>
      <push type="bool">false</push>
    </lamps>
    <switches>
      <roll-mode type="double">0</roll-mode>
      <roll-control type="double">0</roll-control>
      <up-down-l type="double">0</up-down-l>
      <up-down-r type="double">0</up-down-r>
      <autotrim type="double">1</autotrim>
      <power type="double">0</power>
      <pitch type="double">1</pitch>
    </switches>
    <buttons>
      <turn-on type="double">0</turn-on>
      <horizon type="double">0</horizon>
      <kv type="double">0</kv>      
    </buttons>
    <internal>
      <powered type="bool">false</powered>
      <power-on-time type="double">0</power-on-time>
      <engaged type="bool">false</engaged>
      <armed type="bool">false</armed>
      <roll-mode type="int">0</roll-mode> <!-- 0=stabilization, 1=razvorot -->
      <yaw-mode type="int">0</yaw-mode> <!-- 0=yaw damper, 1=gpk-52, 2=gik-1 -->
      <horizon-mode type="bool">false</horizon-mode>
      <kv type="bool">false</kv>
      <target-bank type="double">0</target-bank>
      <target-pitch type="double">0</target-pitch>
      <target-heading-gpk-52 type="double">0</target-heading-gpk-52>
      <target-heading-gik-1 type="double">0</target-heading-gik-1>
      <target-pressure-inhg type="double">0</target-pressure-inhg>
      <pitch-error-deg type="double">0</pitch-error-deg>
      <roll-error-deg type="double">0</roll-error-deg>
      <elevator-autotrim-feel type="bool">false</elevator-autotrim-feel>
      <elevator-alt-correction type="double">0</elevator-alt-correction>
    </internal>
  </ap-28l1>
  <gear>
    <steer_mode>2</steer_mode>
  </gear>
  <instrumentation>
    <idle-lock>
      <idle-lock>0</idle-lock>
    </idle-lock>
    <prop-lock>
      <prop-lock-left type="bool">false</prop-lock-left>
      <prop-lock-right type="bool">false</prop-lock-right>
    </prop-lock>
    <eup type="double">0</eup>
  </instrumentation>
</an24>

<instrumentation>
  <adf n="1">
    <serviceable type="bool">true</serviceable>
  </adf>
  <heading-indicator-dg>
    <serviceable type="bool">true</serviceable>
  </heading-indicator-dg>
  <heading-indicator-fg>
    <serviceable type="bool">true</serviceable>
  </heading-indicator-fg>
  <!--<kppm n="0">
    <scale-offset type="double">0</scale-offset>
  </kppm>-->
  <marker-beacon>
    <audio-btn type="bool" >false</audio-btn>
    <volume type="double" >0.0</volume>
  </marker-beacon>
  <radar-altimeter>
    <serviceable type="bool">true</serviceable>
    <antenna>
      <x-offset-m type="double">0</x-offset-m>
      <y-offset-m type="double">0</y-offset-m>
      <z-offset-m type="double">1.05</z-offset-m>
    </antenna>
  </radar-altimeter>
  <zk2>
    <heading-bug type="double">0</heading-bug>
  </zk2>
</instrumentation>

<systems>
  <pitot n="1">
    <serviceable type="bool">true</serviceable>
  </pitot>
  <pitot n="2">
    <serviceable type="bool">true</serviceable>
  </pitot>
  <static n="1">
    <serviceable type="bool">true</serviceable>
  </static>
  <static n="2">
    <serviceable type="bool">true</serviceable>
  </static>
  <static n="3">
    <serviceable type="bool">true</serviceable>
  </static>
</systems>

<nasal>
  <friction>
    <file>Aircraft/an24b/Nasal/friction.nas</file>
  </friction>
  <help>
    <file>Aircraft/an24b/Nasal/help.nas</file>
  </help>
  <instruments>
    <file>Aircraft/an24b/Nasal/instruments.nas</file>
    <file>Aircraft/an24b/Nasal/gpk-52.nas</file>
    <file>Aircraft/an24b/Nasal/ap-28l1.nas</file>
  </instruments>
  <view>
    <file>Aircraft/an24b/Nasal/view.nas</file>
  </view>
  <engines>
    <file>Aircraft/an24b/Nasal/enginestart.nas</file>
  </engines>
</nasal>

<payload>
  <weight>
   <name type="string">Buffet</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[7]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">88.18</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 1</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[8]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 2</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[9]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 3</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[10]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 4</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[11]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 5</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[12]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 6</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[13]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 7</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[14]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 8</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[15]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 9</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[16]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 10</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[17]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 11</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[18]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 12</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[19]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">661.39</max-lb>
  </weight>
  <weight>
   <name type="string">Passengers row 13</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[20]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">330.50</max-lb>
  </weight>
  <weight>
   <name type="string">Baggage room 1 left</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[21]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">1985.0</max-lb>
  </weight>
  <weight>
   <name type="string">Baggage room 1 right</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[22]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">1323.0</max-lb>
  </weight>
  <weight>
   <name type="string">Baggage room 2</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[23]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">1323.0</max-lb>
  </weight>
  <weight>
   <name type="string">Baggage room 3</name>
   <weight-lb alias="/fdm/jsbsim/inertia/pointmass-weight-lbs[24]"/>
   <min-lb type="double">0.0</min-lb>
   <max-lb type="double">1255.0</max-lb>
  </weight>
 </payload>

</PropertyList>
